!function(){"use strict";angular.module("fngAuditModule",["formsAngular"]).config(["routingServiceProvider",function(e){e.addRoutes(null,[{route:"/:model/:id/history",state:"model::history",templateUrl:"templates/base-history.html"},{route:"/:model/:id/version/:version",state:"model::version",templateUrl:"templates/base-version.html"}]),e.registerAction("history"),e.registerAction("version")}]).controller("FngAuditHistCtrl",["$scope","$location","routingService","fngAuditServ",function(e,i,t,r){e.changes=[],angular.extend(e,t.parsePathFunc()(i.$$path)),r.getHist(e.modelName,e.id).then(function(i){e.changes=i.data},function(e){console.log(e)}),e.buildHistUrl=function(i){return t.buildUrl(e.modelName+"/"+e.id+"/version/"+i.oldVersion)}}]).controller("FngAuditVerCtrl",["$scope","$location","routingService","fngAuditServ",function(e,i,t,r){e.record=[],angular.extend(e,t.parsePathFunc()(i.$$path)),r.getVersion(e.modelName,e.id,e.tab).then(function(i){e.version=i.data},function(e){console.log(e)}),e.buildHistUrl=function(i){return t.buildUrl(e.modelName+"/"+e.id+"/version/"+i.oldVersion)}}]).service("fngAuditServ",["$http",function(e){return{getHist:function(i,t){return e.get("/api/"+i+"/"+t+"/history")},getVersion:function(i,t,r){return e.get("/api/"+i+"/"+t+"/version/"+r)}}}])}(),angular.module("fngAuditModule").run(["$templateCache",function(e){"use strict";e.put("templates/base-history.html",'<div ng-controller=FngAuditHistCtrl><div ng-class="css(\'rowFluid\')" class="page-header list-header"><div class=header-lhs><h1>History for {{modelName}} {{id}}</h1></div></div><div class="page-body list-body"><error-display></error-display><div ng-class="css(\'rowFluid\')"><a ng-repeat="change in changes" ng-href={{buildHistUrl(change)}}><div class=list-item><div ng-class="css(\'span\',12)">{{ change.comment }} {{ change.changedAt }}</div></div></a></div></div></div>'),e.put("templates/base-version.html",'<div ng-controller=FngAuditVerCtrl><div ng-class="css(\'rowFluid\')" class="page-header list-header"><div class=header-lhs><h1>Version {{ tab }} for {{modelName}} {{id}}</h1></div></div><div class="page-body list-body"><error-display></error-display><div ng-class="css(\'rowFluid\')"><pre>\n                {{ version | json }}\n            </pre></div></div></div>')}]);